<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>go on /home/lunarxlark/.config/blog</title><link>https://lunarxlark.github.io/tags/go/</link><description>Recent content in go on /home/lunarxlark/.config/blog</description><generator>Hugo -- gohugo.io</generator><copyright>© lunarxlark</copyright><lastBuildDate>Thu, 14 May 2020 01:12:54 +0900</lastBuildDate><atom:link href="https://lunarxlark.github.io/tags/go/index.xml" rel="self" type="application/rss+xml"/><item><title>Go Module</title><link>https://lunarxlark.github.io/posts/go/go-module/</link><pubDate>Thu, 14 May 2020 01:12:54 +0900</pubDate><guid>https://lunarxlark.github.io/posts/go/go-module/</guid><description>&lt;p>(この記事は、執筆時点での&lt;a href="https://github.com/golang/go/wiki/Modules">Go Modules&lt;/a>をもとにした私のメモです。Go Moduleの理解のために、元記事と記載の順番が入れ替わっている項目もあります。)&lt;/p></description></item><item><title>My Favorite Usage urfave/cli</title><link>https://lunarxlark.github.io/posts/go/my-favorite-usage-urfave-cli/</link><pubDate>Thu, 06 Feb 2020 02:47:11 +0900</pubDate><guid>https://lunarxlark.github.io/posts/go/my-favorite-usage-urfave-cli/</guid><description>&lt;p>参加しているプロジェクトで&lt;code>urfave/cli&lt;/code>を使っている。使い方は&lt;a href="https://github.com/urfave/cli/blob/master/docs/v2/manual.md#examples">Example&lt;/a>にあるのと同じ書き方で使っている。
大半のバッチ処理をコマンドとして記述しているので、Exampleの書き方だとだいぶ見辛くなってきた。縦長のコマンド定義とオプション説明で目的の処理を探すのにもページ送りを何度もする。なんとかしたい。&lt;/p></description></item><item><title>Error 'undefined' when go run</title><link>https://lunarxlark.github.io/posts/go/how-to-go-run/</link><pubDate>Tue, 04 Feb 2020 00:00:00 +0000</pubDate><guid>https://lunarxlark.github.io/posts/go/how-to-go-run/</guid><description>x…motemen/ghqを写経している時、 go run main.go 出来ないことに気付いた。 下記が実行時のエラーになる。ちなみに、 go build は出来る。
~/d/s/g/x/ghq &amp;gt;&amp;gt;&amp;gt; go run main.go # command-line-arguments ./main.go:38:17: undefined: commands ~/d/s/g/x/ghq &amp;gt;&amp;gt;&amp;gt; commands が見つからない？同じ階層の commands.go には下記記述がちゃんとあるのに、どうして見つからない&amp;hellip;。
var commands = []*cli.Command{ commandGet, commandList, commandRoot, commandCreate, } 理由は、go runの引数に指定したファイル(+ importされるパッケージ)しか読み込まないから。
実際、go run main.go commands.goに変更すると上記エラーは解消される&amp;hellip;が、別のエラーとなる。 今度は違うのが見つからないって言われる。
~/d/s/g/x/ghq master &amp;gt;&amp;gt;&amp;gt; go run main.go commands.go # command-line-arguments ./commands.go:25:10: undefined: doGet ./commands.go:50:10: undefined: doList ./commands.go:62:10: undefined: doRoot ./commands.go:71:10: undefined: doCreate 同じ階層で必要なファイルを引数に全て指定すればいいのだけど、そんなことはしたくない。 正規表現で指定してもいいけど、_test.goがあるとgo runで実行出来ないってエラーになる。
~/d/s/g/x/ghq master &amp;gt;&amp;gt;&amp;gt; go run *.</description></item></channel></rss>