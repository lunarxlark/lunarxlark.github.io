<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Raspberry-Pi on /home/lunarxlark/.config/blog</title>
    <link>https://lunarxlark.github.io/tags/raspberry-pi/</link>
    <description>Recent content in Raspberry-Pi on /home/lunarxlark/.config/blog</description>
    <generator>Hugo -- 0.151.0</generator>
    <language>ja</language>
    <lastBuildDate>Mon, 07 Aug 2023 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://lunarxlark.github.io/tags/raspberry-pi/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Raspberry Pi 4 Model B でKubernetes cluster構築した</title>
      <link>https://lunarxlark.github.io/articles/20230807_raspi_k8s_cluster/</link>
      <pubDate>Mon, 07 Aug 2023 00:00:00 +0000</pubDate>
      <guid>https://lunarxlark.github.io/articles/20230807_raspi_k8s_cluster/</guid>
      <description>&lt;p&gt;完成形です。いぇい。
&lt;img alt=&#34;完成形&#34; loading=&#34;lazy&#34; src=&#34;https://lunarxlark.github.io/images/rpi_cluster.jpg&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;材料&#34;&gt;材料&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;材料&lt;/th&gt;
          &lt;th&gt;個数&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;a href=&#34;https://www.switch-science.com/products/6370&#34;&gt;Raspberry Pi 4 Model B 8GB&lt;/a&gt;&lt;/td&gt;
          &lt;td&gt;4&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;a href=&#34;https://www.switch-science.com/products/8726&#34;&gt;PoE HAT(E)&lt;/a&gt;&lt;/td&gt;
          &lt;td&gt;4&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;a href=&#34;https://www.amazon.co.jp/gp/product/B0763TGBTS/ref=ppx_yo_dt_b_asin_title_o08_s00?ie=UTF8&amp;amp;psc=1&#34;&gt;PoE対応 スイッチングハブ&lt;/a&gt;&lt;/td&gt;
          &lt;td&gt;1&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;a href=&#34;https://www.amazon.co.jp/gp/product/B0B4S2V99D/ref=ppx_yo_dt_b_asin_title_o07_s00?ie=UTF8&amp;amp;psc=1&#34;&gt;無線ルーター&lt;/a&gt;&lt;/td&gt;
          &lt;td&gt;1&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;MicroSD 128GB&lt;/td&gt;
          &lt;td&gt;4&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;LAN (0.15m)&lt;/td&gt;
          &lt;td&gt;4&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;LAN (0.3m)&lt;/td&gt;
          &lt;td&gt;1&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;a href=&#34;https://www.amazon.co.jp/gp/product/B07TJ15YL1/ref=ppx_yo_dt_b_asin_title_o07_s01?ie=UTF8&amp;amp;th=1&#34;&gt;ケース&lt;/a&gt;&lt;/td&gt;
          &lt;td&gt;1&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;a href=&#34;https://www.amazon.co.jp/gp/product/B08FT76RFX/ref=ppx_yo_dt_b_asin_title_o03_s00?ie=UTF8&amp;amp;psc=1&#34;&gt;追加スペーサー&lt;/a&gt;&lt;/td&gt;
          &lt;td&gt;50個入り&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;組み立ての感想&#34;&gt;組み立ての感想&lt;/h2&gt;
&lt;p&gt;見た目をスッキリさせたかったので、ラズパイの電源は PoE HATによりハブからLANで取ってます。&lt;br&gt;
ただ、これだとLANを引っこ抜いてノードを切り離すことが出来ないので失敗したかなって思ってます。&lt;br&gt;
LAN引っこ抜いてノードネットワーク障害ごっこしたいのに、電源も落ちちゃう。&lt;br&gt;
cf. &lt;a href=&#34;https://ja.wikipedia.org/wiki/Power_over_Ethernet&#34;&gt;PoE (Power Over Ethernet)&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;また、ケースでもPoE HATで失敗しました。&lt;br&gt;
PoE HATを付けると高さが高くなります。(値段も)&lt;br&gt;
買ったケースのファンとPoE HATのIsolation Transformerがぶつかります。&lt;br&gt;
なので、ケース付属スペーサーだけでは足りないのでスペーサーを買い足しました。&lt;br&gt;
(そして、そのスペーサーが付属スペーサーのネジ径と合わない&amp;hellip;。付属のはM2だったっぽい&amp;hellip;。)&lt;br&gt;
付属スペーサーは高さ20mm。このケース(+ファン) + PoE HAT の場合、30mmでぴったり合います。&lt;br&gt;
Amazonで激安のPoE HATはさらに高くなるので、ご注意を。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;k8s-cluster-構築&#34;&gt;k8s cluster 構築&lt;/h2&gt;
&lt;h3 id=&#34;0-別pcでの準備&#34;&gt;0. 別PCでの準備&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;無線ルーターを中継機として既存LANに参加させます。&lt;/li&gt;
&lt;li&gt;Raspberry Pi Imagerを使ってmicroSDカード4枚にRaspberry Pi OS(64-bit) Liteを書き込みます。
&lt;ul&gt;
&lt;li&gt;Imagerでホスト名やssh有効化、user/passwd設定等出来るのでここでやっても可。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;中継機が192.168.8.1なので、192.168.8.xで4台に固定IPを割り当てていきます。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
